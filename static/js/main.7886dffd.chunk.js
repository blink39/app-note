(this["webpackJsonpnew-app-note"]=this["webpackJsonpnew-app-note"]||[]).push([[0],{64:function(t,n,e){"use strict";e.r(n);var r=e(15),a=e(1),o=e(33),c=e.n(o),i=e(2),s=e(21),u=e(5),b=e(0),p=e(3),l=e.n(p),d=e(8),f=e(13),j=e(7),h=e(6),O=e(9),v=e.n(O);function x(){var t=Object(i.a)(["\n        background-color: white;\n        border: none;\n        padding: 10px;\n        outline: none;\n        border-radius: 5px;\n        &:hover {\n            background-color: #f2f2f2;\n        }\n    "]);return x=function(){return t},t}function g(){var t=Object(i.a)(["\n        display: ",";\n        text-align: right;\n        font-family:'Roboto', sans-serif;\n    "]);return g=function(){return t},t}function m(){var t=Object(i.a)(["\n        border-width:0px;\n        border:none;\n        &:focus {\n            outline: none;\n        }\n        resize: none;\n        height: ","px;\n        width: 100%;\n    "]);return m=function(){return t},t}function w(){var t=Object(i.a)(["\n        border-width: 0px;\n        border: none;\n        width: 100%;\n        font-size: 20px;\n        &:focus {\n            outline: none;\n        }\n    "]);return w=function(){return t},t}function k(){var t=Object(i.a)(["\n        display: ",";\n        margin-bottom: 10px;\n    "]);return k=function(){return t},t}function y(){var t=Object(i.a)(["\n        border-radius: 7px;\n        border: 1px solid #f2f2f2;\n        padding: 10px;\n        box-shadow: 1px 5px 9px #888888;\n        width: 50%;\n        margin: 0 auto;\n        margin-bottom: 25px;\n    "]);return y=function(){return t},t}var C=function(t){var n=Object(a.useState)({status:"none",height:15}),e=Object(h.a)(n,2),r=e[0],o=e[1],c=Object(b.a)(y()),i=Object(b.a)(k(),r.status),s=Object(b.a)(w()),u=Object(b.a)(m(),r.height),p=Object(b.a)(g(),r.status),O=Object(b.a)(x());function C(){z({title:"",content:""}),o({status:"none",height:15})}var S=Object(a.useState)({title:"",content:""}),T=Object(h.a)(S,2),E=T[0],z=T[1],I=function(t){var n=t.target,e=n.id,r=n.value;z((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(f.a)({},e,r))}))},A=localStorage.getItem("loginToken"),D=function(){var n=Object(d.a)(l.a.mark((function n(){var e;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,v()({method:"POST",url:"".concat("https://collab-project-api.et.r.appspot.com","/notes"),headers:{Authorization:"Bearer "+A,"Content-Type":"application/json"},data:{title:E.title,content:E.content}});case 3:n.sent,t.refresh(new Date),C(),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),n.t0.response.data.errors&&(e="",n.t0.response.data.errors.map((function(t){e+=t.message+"\n"})),alert(e));case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(){return n.apply(this,arguments)}}();return Object(b.b)("div",{css:c},Object(b.b)("div",{css:i},Object(b.b)("input",{css:s,type:"text",id:"title",value:E.title,onChange:I,placeholder:"Title",autoComplete:"off"})),Object(b.b)("textarea",{css:u,id:"content",value:E.content,onChange:I,placeholder:"Make a note...",onClick:function(){o({status:"block",height:100})}}),Object(b.b)("div",{css:p},Object(b.b)("button",{css:O,onClick:C},"Close"),Object(b.b)("button",{css:O,onClick:D},"Add Note")))};function S(){var t=Object(i.a)(["\n        background-color: white;\n        border: none;\n        padding: 10px;\n        outline: none;\n        border-radius: 5px;\n        &:hover {\n            background-color: #f2f2f2;\n        }\n    "]);return S=function(){return t},t}function T(){var t=Object(i.a)(["\n        text-align: right;\n        font-family:'Roboto', sans-serif;\n    "]);return T=function(){return t},t}function E(){var t=Object(i.a)(["\n        border-width:0px;\n        border:none;\n        &:focus {\n            outline: none;\n        }\n        resize: none;\n        height: 300px;\n        width: 100%;\n    "]);return E=function(){return t},t}function z(){var t=Object(i.a)(["\n        border-width: 0px;\n        border: none;\n        width: 100%;\n        font-size: 20px;\n        &:focus {\n            outline: none;\n        }\n    "]);return z=function(){return t},t}function I(){var t=Object(i.a)(["\n        margin-bottom: 10px;\n    "]);return I=function(){return t},t}function A(){var t=Object(i.a)(["\n        background-color: white;\n        border-radius: 7px;\n        border: 1px solid #f2f2f2;\n        padding: 10px;\n        box-shadow: 1px 5px 9px #888888;\n        width: 40%;\n        margin: 0 auto;\n        margin-bottom: 25px;\n    "]);return A=function(){return t},t}function D(){var t=Object(i.a)(["\n        display: ",";\n        position: fixed;\n        z-index: 1;\n        padding-top: 45px;\n        left: 0;\n        top: 0;\n        width: 100%;\n        height: 100%;\n        overflow: auto;\n        background-color: rgb(0, 0, 0);\n        background-color: rgba(0, 0, 0, 0.4);\n    "]);return D=function(){return t},t}var B=function(t){var n=Object(b.a)(D(),t.show?"block":"none"),e=Object(b.a)(A()),r=Object(b.a)(I()),o=Object(b.a)(z()),c=Object(b.a)(E()),i=Object(b.a)(T()),s=Object(b.a)(S()),u=Object(a.useState)({titleEdit:"",contentEdit:""}),p=Object(h.a)(u,2),O=p[0],x=p[1];Object(a.useEffect)((function(){t.data&&x({titleEdit:t.data.title,contentEdit:t.data.content})}),[t]);var g=function(t){var n=t.target,e=n.id,r=n.value;x((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(f.a)({},e,r))}))},m=localStorage.getItem("loginToken"),w=function(){var n=Object(d.a)(l.a.mark((function n(){var e;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,v()({method:"PUT",url:"".concat("https://collab-project-api.et.r.appspot.com","/notes/").concat(t.data.id),headers:{Authorization:"Bearer "+m,"Content-Type":"application/json"},data:{title:O.titleEdit,content:O.contentEdit}});case 3:n.sent,t.refresh(new Date),t.handleClose(),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),n.t0.response.data.errors&&(e="",n.t0.response.data.errors.map((function(t){e+=t.message+"\n"})),alert(e));case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(){return n.apply(this,arguments)}}();return Object(b.b)("div",{css:n},Object(b.b)("div",{css:e},Object(b.b)("div",{css:r},Object(b.b)("input",{css:o,type:"text",id:"titleEdit",value:O.titleEdit,onChange:g,placeholder:"Title",autoComplete:"off"})),Object(b.b)("textarea",{css:c,id:"contentEdit",value:O.contentEdit,onChange:g,placeholder:"Make a note..."}),Object(b.b)("div",{css:i},Object(b.b)("button",{css:s,onClick:t.handleClose},"Close"),Object(b.b)("button",{css:s,onClick:w},"Edit note"))))};function P(){var t=Object(i.a)(["\n        background-color: white;\n        border: none;\n        padding: 10px;\n        outline: none;\n        border-radius: 5px;\n        &:hover {\n            background-color: #f2f2f2;\n        }\n    "]);return P=function(){return t},t}function L(){var t=Object(i.a)(["\n        visibility: ",";\n        animation: "," 0.4s linear;\n        text-align: right;\n        font-family:'Roboto', sans-serif;\n    "]);return L=function(){return t},t}function M(){var t=Object(i.a)(["\n        height: 85%;\n        overflow: hidden;\n    "]);return M=function(){return t},t}function R(){var t=Object(i.a)(["\n        font-size: 20px;\n        font-weight: bold;\n    "]);return R=function(){return t},t}function U(){var t=Object(i.a)(["\n        transition: transform 0.3s;\n        border-radius: 5px;\n        border: 2px solid #f2f2f2;\n        padding: 10px;\n        width: 22%;\n        display: inline-block;\n        vertical-align: top;\n        margin: 0 auto;\n        margin-right: 10px;\n        margin-bottom: 10px;\n        text-align: left;\n        height: 210px;\n        &:hover {\n            box-shadow: 0px 1px 3px #888888;\n        }\n        @media (max-width: 800px) {\n            width: 45%;\n            height: 300px;\n        }\n        @media (max-width: 400px) {\n            width: 80%;\n            height: 300px;\n        }\n    "]);return U=function(){return t},t}function J(){var t=Object(i.a)(["\n        from {\n            opacity: 1;\n        }\n\n        to {\n            opacity: 0;\n        }\n    "]);return J=function(){return t},t}function G(){var t=Object(i.a)(["\n        from {\n            opacity: 0;\n        }\n\n        to {\n            opacity: 1;\n        }\n    "]);return G=function(){return t},t}var N=function(t){var n=Object(a.useState)("hidden"),e=Object(h.a)(n,2),r=e[0],o=e[1],c=Object(a.useState)(!0),i=Object(h.a)(c,2),s=i[0],u=i[1],p=Object(b.c)(G()),f=Object(b.c)(J()),j=Object(b.a)(U()),O=Object(b.a)(R()),x=Object(b.a)(M()),g=Object(b.a)(L(),r,s?p:f),m=Object(b.a)(P()),w=localStorage.getItem("loginToken"),k=function(){var n=Object(d.a)(l.a.mark((function n(){var e;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,v()({method:"DELETE",url:"".concat("https://collab-project-api.et.r.appspot.com","/notes/").concat(t.data.id),headers:{Authorization:"Bearer "+w,"Content-Type":"application/json"}});case 3:n.sent,t.refresh(new Date),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),n.t0.response.data.errors&&(e="",n.t0.response.data.errors.map((function(t){e+=t.message+"\n"})),alert(e));case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}();return Object(b.b)("div",{css:j,onMouseEnter:function(){o("visible"),u(!0)},onMouseLeave:function(){o("hidden"),u(!1)}},Object(b.b)("div",{css:x},Object(b.b)("span",{css:O},t.data.title),Object(b.b)("br",null),Object(b.b)("br",null),Object(b.b)("span",null,t.data.content)),Object(b.b)("div",{css:g},Object(b.b)("button",{css:m,onClick:t.handleEdit},"Edit note"),Object(b.b)("button",{css:m,onClick:k},"Delete note")))};function q(){var t=Object(i.a)(["font-size: 30px;font-weight: bold;"]);return q=function(){return t},t}function F(){var t=Object(i.a)(["margin-top: 25px;"]);return F=function(){return t},t}function H(){var t=Object(i.a)(["\n        border-radius: 10px;\n        width: 80%;\n        margin-bottom: 10px;\n        height: 25px;\n        padding: 10px;\n        outline: none;\n    "]);return H=function(){return t},t}function K(){var t=Object(i.a)(["\n        margin-right: 15px;\n        margin-top: 10px;\n        float: right;\n    "]);return K=function(){return t},t}function Q(){var t=Object(i.a)(["\n        padding: 10px 15px 10px 15px;\n    "]);return Q=function(){return t},t}function V(){var t=Object(i.a)(["\n        padding: 20px;\n        box-shadow: 1px 5px 9px #888888;\n        border-radius: 5px;\n        width: 30%;\n        margin: 150px auto;\n        border: 1px solid #f2f2f2;\n    "]);return V=function(){return t},t}function W(){var t=Object(i.a)(["\n        width: 80%;\n        margin: 0 auto;\n        @media (max-width: 800px) {\n            width: 90%;\n            height: 300px;\n        }\n    "]);return W=function(){return t},t}var X=function(){var t,n=Object(b.a)(W()),e=Object(b.a)(V()),r=Object(b.a)(Q()),o=Object(b.a)(K()),c=Object(b.a)(H()),i=Object(a.useState)(),s=Object(h.a)(i,2),u=s[0],p=s[1],O=Object(a.useState)(!0),x=Object(h.a)(O,2),g=x[0],m=x[1],w=Object(a.useState)(!1),k=Object(h.a)(w,2),y=k[0],S=k[1],T=Object(a.useState)(),E=Object(h.a)(T,2),z=E[0],I=E[1],A=Object(a.useState)(new Date),D=Object(h.a)(A,2),P=D[0],L=D[1],M=Object(a.useState)(localStorage.getItem("loginToken")),R=Object(h.a)(M,2),U=R[0],J=R[1],G=Object(a.useState)({username:"",password:""}),X=Object(h.a)(G,2),Y=X[0],Z=X[1],$=function(t){var n=t.target,e=n.id,r=n.value;Z((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(f.a)({},e,r))}))},_=localStorage.getItem("loginToken"),tt=function(){var t=Object(d.a)(l.a.mark((function t(){var n,e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v()({method:"GET",url:"".concat("https://collab-project-api.et.r.appspot.com","/notes?q="),headers:{Authorization:"Bearer "+U,"Content-Type":"application/json"}});case 3:n=t.sent,m(!1),p(n.data),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),t.t0.response.data.errors&&(e="",t.t0.response.data.errors.map((function(t){e+=t.message+"\n"})),alert(e));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),nt=function(){var t=Object(d.a)(l.a.mark((function t(){var n,e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v()({method:"POST",url:"".concat("https://collab-project-api.et.r.appspot.com","/auth/login"),headers:{"Content-Type":"application/json"},data:{username:Y.username,password:Y.password}});case 3:n=t.sent,localStorage.setItem("loginToken",n.data.token),J(n.data.token),L(new Date),Z({username:"",password:""}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),t.t0.response.data.errors&&(e="",t.t0.response.data.errors.map((function(t){e+=t.message+"\n"})),alert(e));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){_&&(J(_),tt())}),[P]),u&&(t=u.data.map((function(t){return Object(b.b)(N,{key:t.id,data:t,handleEdit:function(){return I(t),void S(!0)},refresh:L})}))),U?g?Object(b.b)("div",null,Object(b.b)("h1",null,"Loading ...")):Object(b.b)("div",{css:Object(b.a)(F())},Object(b.b)("button",{css:o,onClick:function(){localStorage.setItem("loginToken",""),J("")}},"Logout"),Object(b.b)(C,{refresh:L}),Object(b.b)("div",{css:n},t),Object(b.b)(B,{show:y,handleClose:function(){S(!1)},data:z,refresh:L})):Object(b.b)("div",{css:e},Object(b.b)("span",{css:Object(b.a)(q())},"Sign in"),Object(b.b)("br",null)," ",Object(b.b)("br",null)," ",Object(b.b)("br",null),Object(b.b)("input",{css:c,type:"text",id:"username",value:Y.username,onChange:$,placeholder:"Username",autoComplete:"off"}),Object(b.b)("br",null),Object(b.b)("input",{css:c,type:"password",id:"password",value:Y.password,onChange:$,placeholder:"Password"}),Object(b.b)("br",null),Object(b.b)("button",{css:r,onClick:nt},"Login"))};function Y(){var t=Object(i.a)(["\n        border-width:0px;\n        border:none;\n        &:focus {\n            outline: none;\n        }\n        resize: none;\n        height: 100px;\n        width: 300px;\n    "]);return Y=function(){return t},t}function Z(){var t=Object(i.a)(["\n        border-width:0px;\n        border:none;\n        &:focus {\n            outline: none;\n        }\n    "]);return Z=function(){return t},t}var $=function(t){var n=t.match,e=Object(b.a)(Z()),r=Object(b.a)(Y()),o=Object(a.useState)({title:"",content:""}),c=Object(h.a)(o,2),i=c[0],s=c[1],u=function(t){var n=t.target,e=n.id,r=n.value;s((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(f.a)({},e,r))}))},p=localStorage.getItem("loginToken"),O=function(){var t=Object(d.a)(l.a.mark((function t(){var e,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v()({method:"GET",url:"".concat("https://collab-project-api.et.r.appspot.com","/notes/").concat(n.params.id),headers:{Authorization:"Bearer "+p,"Content-Type":"application/json"}});case 3:e=t.sent,s((function(t){return Object(j.a)(Object(j.a)({},t),{},{title:e.data.data.title,content:e.data.data.content})})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0.response.data.errors&&(r="",t.t0.response.data.errors.map((function(t){r+=t.message+"\n"})),alert(r));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();Object(a.useEffect)((function(){n.params.id&&O()}),[]);var x=function(){var t=Object(d.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v()({method:"POST",url:"http://localhost:3001/notes",headers:{Authorization:"Bearer "+p,"Content-Type":"application/json"},data:{title:i.title,content:i.content}});case 3:t.sent,alert("Success Add"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0.response.data.errors&&(n="",t.t0.response.data.errors.map((function(t){n+=t.message+"\n"})),alert(n));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),g=function(){var t=Object(d.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v()({method:"PUT",url:"http://localhost:3001/notes/".concat(n.params.id),headers:{Authorization:"Bearer "+p,"Content-Type":"application/json"},data:{title:i.title,content:i.content}});case 3:t.sent,alert("Success Edit"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0.response.data.errors&&(e="",t.t0.response.data.errors.map((function(t){e+=t.message+"\n"})),alert(e));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),m=function(){var t=Object(d.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v()({method:"DELETE",url:"http://localhost:3001/notes/".concat(n.params.id),headers:{Authorization:"Bearer "+p,"Content-Type":"application/json"}});case 3:t.sent,alert("Success Delete"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0.response.data.errors&&(e="",t.t0.response.data.errors.map((function(t){e+=t.message+"\n"})),alert(e));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return Object(b.b)("div",null,Object(b.b)("input",{css:e,type:"text",id:"title",value:i.title,onChange:u,placeholder:"Input Title",autoComplete:"off"}),Object(b.b)("br",null),Object(b.b)("textarea",{css:r,id:"content",value:i.content,onChange:u,placeholder:"Input Content"}),Object(b.b)("br",null),n.params.id?Object(b.b)("div",null,Object(b.b)("button",{onClick:g},"Edit note"),Object(b.b)("button",{onClick:m},"Delete")):Object(b.b)("button",{onClick:x},"Add note"))};var _=function(){var t=Object(a.useState)({username:"",password:""}),n=Object(h.a)(t,2),e=n[0],o=n[1],c=function(t){var n=t.target,e=n.id,r=n.value;o((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(f.a)({},e,r))}))};return Object(r.jsxs)("div",{children:[Object(r.jsx)("input",{type:"text",id:"username",value:e.username,onChange:c,placeholder:"Username"}),Object(r.jsx)("input",{type:"password",id:"password",value:e.password,onChange:c,placeholder:"Password"}),Object(r.jsx)("button",{onClick:function(){fetch("http://localhost:3001/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.username,password:e.password})}).then((function(t){return t.json()})).then((function(t){if(t.errors){var n="";t.errors.map((function(t){n+=t.message+"\n"})),alert(n)}else t.token&&(alert("Success"),localStorage.setItem("loginToken",t.token))}))},children:"Login"})]})};function tt(){var t=Object(i.a)(["\n        font-family:'Roboto', sans-serif;\n        text-align: center;\n    "]);return tt=function(){return t},t}var nt=function(){return Object(b.b)(X,null)},et=function(){var t=Object(b.a)(tt());return Object(b.b)(s.a,null,Object(b.b)("div",{css:t},Object(b.b)(u.c,null,Object(b.b)(u.a,{path:"/",exact:!0,component:nt}),Object(b.b)(u.a,{path:"/detail",exact:!0,component:$}),Object(b.b)(u.a,{path:"/detail/:id",exact:!0,component:$}),Object(b.b)(u.a,{path:"/login",exact:!0,component:_}))))};c.a.render(Object(r.jsx)(et,{}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.7886dffd.chunk.js.map